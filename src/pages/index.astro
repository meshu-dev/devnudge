---
import Layout from '../layouts/Layout.astro'
import BlogListItem from '../components/BlogListItem.astro'
import { getNotionPages } from '../utils/notion'
import type { NotionPage } from '../types/notion'

let pages = await getNotionPages()
pages = pages.filter(page => page.slug)
---

<Layout title="Welcome to Mesh's Blog">
	<main>
		<h1><span class="text-gradient">Mesh's Blog</span></h1>
		{
			pages.map((page: NotionPage) => <BlogListItem page={ page } />)
		}
	</main>
</Layout>